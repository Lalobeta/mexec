<<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
</head>
<body>



<form method="POST" action="/inventarios/insert" accept-charset="UTF-8" role="form" id="crearinventario" name= "crearinventario" enctype="multipart/form-data">

	<%= token_tag nil %>

	<div class="row">
		<div class="col-md-12">
			<section class="panel">
				<div class="panel-body">

					<div class="form-group">
						<label for="id_cliente" class="negrita">Id del Cliente: </label>
						<div>
							<input class="form-control" placeholder="id_cliente" name="id_cliente" type="text" id="id_cliente" onload="crearUrlAmigable(this.value);" onkeypress="crearUrlAmigable(this.value);" required>
						</div>
					</div>
					<div class="form-group">
						<label for="marca" class="negrita">Marca: </label>
						<div>
							<input class="form-control" placeholder="marca" name="marca" type="text" id="marca" required>
						</div>
					</div>
					<div class="form-group">
						<label for="modelo" class="negrita">Modelo: </label>
						<div>
							<input class="form-control" placeholder="modelo" name="modelo" type="text" id="modelo" required>
						</div>
					</div>
					<div class="form-group">
						<label for="cliente" class="negrita">Cliente: </label>
						<div>
							<input class="form-control" placeholder="cliente" name="cliente" type="text" id="cliente" required>
						</div>
					</div>
					<div class="form-group">
						<label for="placas" class="negrita">Placas: </label>
						<div>
							<input class="form-control" placeholder="placas" name="placas" type="text" id="placas" required>
						</div>
					</div>
					<div class="form-group">
						<label for="img" class="negrita">Selecciona una imagen: </label>
						<div>
							<input class="form-control" type="file" id="nimg" name="nimg" onchange="cargarImagen" required>
						</div>
					</div>
					<div class="form-group">
						<label for="url" class="negrita">Url: </label>
						<div>
							<input class="form-control" type="text" id="url" name="url" readonly>
							
						</div>
					</div>

					<button type="submit" class="btn btn-info">Guardar</button>
					<%= link_to 'Cancelar', url_for(:back), class:"btn btn-warning" %>

					  <br>
					  <br>
					</div>
				</section>
			</div>
		</div>
	</form>
 	

                <script type="text/javascript">

                  function crearUrlAmigable(str) {
                    
                    // Reemplaza los carácteres especiales | simbolos con un espacio 
                    str = str.replace(/[`~!@#$%^&*()_\-+=\[\]{};:'"\\|\/,.<>?\s]/g, ' ').toLowerCase();
                    
                    // Corta los espacios al inicio y al final del string
                    str = str.replace(/^\s+|\s+$/gm,'');
                    
                    // Reemplaza el espacio con guión 
                    str = str.replace(/\s+/g, '-');

                    var input = document.getElementById('url');
                    input.value = str;

                  }
                  
                 function cargarImagen(){
					var name = document.getElementById('nimg');


					nas = name.files.item(0).name

					var ini = document.getElementById('img');

					ini.value = nas;

				}
                </script>

</body>
</html>